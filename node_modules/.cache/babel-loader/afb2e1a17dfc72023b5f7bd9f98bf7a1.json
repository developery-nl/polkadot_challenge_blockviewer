{"ast":null,"code":"var _jsxFileName = \"/home/michiel/Downloads/polkabasics-main/src/Block.js\";\nimport React, { useState, useEffect } from 'react';\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport Spinner from './components/Spinner';\nimport { StyledBlockInfo } from './styles/StyledBlockInfo';\n\nconst Block = () => {\n  const [hash, setHash] = useState('');\n  const [number, setNumber] = useState('');\n  const [parentHash, setParentHash] = useState('');\n  const [stateRoot, setStateRoot] = useState('');\n  const [extrinsicsRoot, setExtrinsicsRoot] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const chainState = async () => {\n    const wsProvider = new WsProvider('wss://rpc.polkadot.io');\n    const api = await ApiPromise.create({\n      provider: wsProvider\n    }); // Retrieve the latest header\n\n    const lastHeader = await api.rpc.chain.getHeader();\n    setNumber(lastHeader.number.toString());\n    setHash(lastHeader.hash.toString());\n    setParentHash(lastHeader.parentHash.toString());\n    setStateRoot(lastHeader.stateRoot.toString());\n    setExtrinsicsRoot(lastHeader.extrinsicsRoot.toString());\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    chainState();\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(StyledBlockInfo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blockinfo-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blockinfo-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"LATEST BLOCK : \", number), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, \"HASH : \", hash), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, \"PARENT HASH : \", parentHash), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, \"STATE ROOT : \", stateRoot), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \"EXTRINSICS ROOT : \", extrinsicsRoot))));\n  }\n};\n\nexport default Block;","map":{"version":3,"sources":["/home/michiel/Downloads/polkabasics-main/src/Block.js"],"names":["React","useState","useEffect","ApiPromise","WsProvider","Spinner","StyledBlockInfo","Block","hash","setHash","number","setNumber","parentHash","setParentHash","stateRoot","setStateRoot","extrinsicsRoot","setExtrinsicsRoot","loading","setLoading","chainState","wsProvider","api","create","provider","lastHeader","rpc","chain","getHeader","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,eAAvC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SAAQC,eAAR,QAA8B,0BAA9B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBR,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,UAAD,EAAYC,aAAZ,IAA6BZ,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAM,CAACa,SAAD,EAAWC,YAAX,IAA2Bd,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACe,cAAD,EAAgBC,iBAAhB,IAAqChB,QAAQ,CAAC,EAAD,CAAnD;AACA,QAAM,CAACiB,OAAD,EAASC,UAAT,IAAuBlB,QAAQ,CAAC,IAAD,CAArC;;AAIA,QAAMmB,UAAU,GAAG,YAAY;AAC3B,UAAMC,UAAU,GAAG,IAAIjB,UAAJ,CAAe,uBAAf,CAAnB;AACA,UAAMkB,GAAG,GAAG,MAAMnB,UAAU,CAACoB,MAAX,CAAkB;AAAEC,MAAAA,QAAQ,EAAEH;AAAZ,KAAlB,CAAlB,CAF2B,CAI3B;;AACA,UAAMI,UAAU,GAAG,MAAMH,GAAG,CAACI,GAAJ,CAAQC,KAAR,CAAcC,SAAd,EAAzB;AAEAjB,IAAAA,SAAS,CAACc,UAAU,CAACf,MAAX,CAAkBmB,QAAlB,EAAD,CAAT;AACApB,IAAAA,OAAO,CAACgB,UAAU,CAACjB,IAAX,CAAgBqB,QAAhB,EAAD,CAAP;AACAhB,IAAAA,aAAa,CAACY,UAAU,CAACb,UAAX,CAAsBiB,QAAtB,EAAD,CAAb;AACAd,IAAAA,YAAY,CAACU,UAAU,CAACX,SAAX,CAAqBe,QAArB,EAAD,CAAZ;AACAZ,IAAAA,iBAAiB,CAACQ,UAAU,CAACT,cAAX,CAA0Ba,QAA1B,EAAD,CAAjB;AAEAV,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAdD;;AAgBAjB,EAAAA,SAAS,CAAE,MAAM;AACbkB,IAAAA,UAAU;AACb,GAFQ,CAAT;;AAIA,MAAIF,OAAJ,EAAa;AACT,wBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH,GAJD,MAIO;AACH,wBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAoBR,MAApB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAYF,IAAZ,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAmBI,UAAnB,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkBE,SAAlB,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAuBE,cAAvB,CALJ,CADJ,CADJ,CADJ;AAaH;AAEJ,CAlDD;;AAoDA,eAAeT,KAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport Spinner from './components/Spinner';\nimport {StyledBlockInfo} from './styles/StyledBlockInfo';\n\nconst Block = () => {\n    const [hash,setHash] = useState('');\n    const [number, setNumber] = useState('');\n    const [parentHash,setParentHash] = useState('');\n    const [stateRoot,setStateRoot] = useState('');\n    const [extrinsicsRoot,setExtrinsicsRoot] = useState('');\n    const [loading,setLoading] = useState(true);\n    \n      \n\n    const chainState = async () => {\n        const wsProvider = new WsProvider('wss://rpc.polkadot.io');\n        const api = await ApiPromise.create({ provider: wsProvider });\n        \n        // Retrieve the latest header\n        const lastHeader = await api.rpc.chain.getHeader();\n\n        setNumber(lastHeader.number.toString());\n        setHash(lastHeader.hash.toString());\n        setParentHash(lastHeader.parentHash.toString());\n        setStateRoot(lastHeader.stateRoot.toString());\n        setExtrinsicsRoot(lastHeader.extrinsicsRoot.toString());\n\n        setLoading(false);\n    } \n\n    useEffect( () => {\n        chainState();\n    })\n\n    if (loading) {\n        return (\n            <Spinner />\n        )\n    } else {\n        return (\n            <StyledBlockInfo>\n                <div className='blockinfo-content'>\n                    <div className='blockinfo-text'>\n                        <h1>LATEST BLOCK : {number}</h1>\n                        <h2>HASH : {hash}</h2>\n                        <h2>PARENT HASH : {parentHash}</h2>\n                        <h2>STATE ROOT : {stateRoot}</h2>\n                        <h2>EXTRINSICS ROOT : {extrinsicsRoot}</h2>\n                    </div>\n                </div>\n            </StyledBlockInfo>\n        )\n    }\n\n}\n\nexport default Block;"]},"metadata":{},"sourceType":"module"}