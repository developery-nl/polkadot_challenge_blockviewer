{"ast":null,"code":"var _jsxFileName = \"/home/michiel/Downloads/polkabasics-main/src/Block.js\";\nimport React, { useState, useEffect } from 'react';\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport Spinner from './components/Spinner';\nimport { StyledBlockInfo } from './styles/StyledBlockInfo';\n\nconst Block = () => {\n  const [hash, setHash] = useState('');\n  const [number, setNumber] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const chainState = async () => {\n    const wsProvider = new WsProvider('wss://rpc.polkadot.io');\n    const api = await ApiPromise.create({\n      provider: wsProvider\n    }); // Retrieve the latest header\n\n    const lastHeader = await api.rpc.chain.getHeader();\n    setNumber(lastHeader.number.toString());\n    setHash(lastHeader.hash.toString());\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    chainState();\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(StyledBlockInfo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blockinfo-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blockinfo-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, \"LATEST BLOCK NUMBER\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"big\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }\n    }, number)), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }\n    }, \"HASH : \", hash))));\n  }\n};\n\nexport default Block;","map":{"version":3,"sources":["/home/michiel/Downloads/polkabasics-main/src/Block.js"],"names":["React","useState","useEffect","ApiPromise","WsProvider","Spinner","StyledBlockInfo","Block","hash","setHash","number","setNumber","loading","setLoading","chainState","wsProvider","api","create","provider","lastHeader","rpc","chain","getHeader","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,eAAvC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SAAQC,eAAR,QAA8B,0BAA9B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBR,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,OAAD,EAASC,UAAT,IAAuBZ,QAAQ,CAAC,IAAD,CAArC;;AAIA,QAAMa,UAAU,GAAG,YAAY;AAC3B,UAAMC,UAAU,GAAG,IAAIX,UAAJ,CAAe,uBAAf,CAAnB;AACA,UAAMY,GAAG,GAAG,MAAMb,UAAU,CAACc,MAAX,CAAkB;AAAEC,MAAAA,QAAQ,EAAEH;AAAZ,KAAlB,CAAlB,CAF2B,CAI3B;;AACA,UAAMI,UAAU,GAAG,MAAMH,GAAG,CAACI,GAAJ,CAAQC,KAAR,CAAcC,SAAd,EAAzB;AAEAX,IAAAA,SAAS,CAACQ,UAAU,CAACT,MAAX,CAAkBa,QAAlB,EAAD,CAAT;AACAd,IAAAA,OAAO,CAACU,UAAU,CAACX,IAAX,CAAgBe,QAAhB,EAAD,CAAP;AACAV,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAVD;;AAYAX,EAAAA,SAAS,CAAE,MAAM;AACbY,IAAAA,UAAU;AACb,GAFQ,CAAT;;AAIA,MAAIF,OAAJ,EAAa;AACT,wBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH,GAJD,MAIO;AACH,wBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMF,MAAN,CAAJ,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAYF,IAAZ,CAHJ,CADJ,CADJ,CADJ;AAYH;AAEJ,CA1CD;;AA4CA,eAAeD,KAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport Spinner from './components/Spinner';\nimport {StyledBlockInfo} from './styles/StyledBlockInfo';\n\nconst Block = () => {\n    const [hash,setHash] = useState('');\n    const [number, setNumber] = useState('');\n    const [loading,setLoading] = useState(true);\n    \n      \n\n    const chainState = async () => {\n        const wsProvider = new WsProvider('wss://rpc.polkadot.io');\n        const api = await ApiPromise.create({ provider: wsProvider });\n        \n        // Retrieve the latest header\n        const lastHeader = await api.rpc.chain.getHeader();\n\n        setNumber(lastHeader.number.toString());\n        setHash(lastHeader.hash.toString());\n        setLoading(false);\n    } \n\n    useEffect( () => {\n        chainState();\n    })\n\n    if (loading) {\n        return (\n            <Spinner />\n        )\n    } else {\n        return (\n            <StyledBlockInfo>\n                <div className='blockinfo-content'>\n                    <div className='blockinfo-text'>\n                        <h1>LATEST BLOCK NUMBER</h1>\n                        <h1><big>{number}</big></h1>\n                        <h2>HASH : {hash}</h2>\n\n                    </div>\n                </div>\n            </StyledBlockInfo>\n        )\n    }\n\n}\n\nexport default Block;\n"]},"metadata":{},"sourceType":"module"}